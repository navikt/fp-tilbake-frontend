"use strict";(self.webpackChunkfp_tilbake_frontend=self.webpackChunkfp_tilbake_frontend||[]).push([[296],{"./node_modules/@storybook/components/dist/esm/tooltip/WithTooltip.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "WithToolTipState": () => (/* binding */ WithToolTipState),\n  "WithTooltip": () => (/* binding */ WithToolTipState),\n  "WithTooltipPure": () => (/* binding */ WithTooltipPure)\n});\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.slice.js\nvar es_array_slice = __webpack_require__("./node_modules/core-js/modules/es.array.slice.js");\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.freeze.js\nvar es_object_freeze = __webpack_require__("./node_modules/core-js/modules/es.object.freeze.js");\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__("./node_modules/core-js/modules/es.object.keys.js");\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.js\nvar es_symbol = __webpack_require__("./node_modules/core-js/modules/es.symbol.js");\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.assign.js\nvar es_object_assign = __webpack_require__("./node_modules/core-js/modules/es.object.assign.js");\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.description.js\nvar es_symbol_description = __webpack_require__("./node_modules/core-js/modules/es.symbol.description.js");\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__("./node_modules/core-js/modules/es.object.to-string.js");\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.iterator.js\nvar es_symbol_iterator = __webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js");\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.iterator.js\nvar es_array_iterator = __webpack_require__("./node_modules/core-js/modules/es.array.iterator.js");\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js");\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__("./node_modules/core-js/modules/es.function.name.js");\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.from.js\nvar es_array_from = __webpack_require__("./node_modules/core-js/modules/es.array.from.js");\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.iterator.js\nvar es_string_iterator = __webpack_require__("./node_modules/core-js/modules/es.string.iterator.js");\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js");\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("./node_modules/react/index.js");\n// EXTERNAL MODULE: ./node_modules/@storybook/theming/dist/esm/index.js + 2 modules\nvar esm = __webpack_require__("./node_modules/@storybook/theming/dist/esm/index.js");\n// EXTERNAL MODULE: ./node_modules/global/window.js\nvar global_window = __webpack_require__("./node_modules/global/window.js");\nvar window_default = /*#__PURE__*/__webpack_require__.n(global_window);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js\nvar objectWithoutPropertiesLoose = __webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js\nvar esm_extends = __webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js\nvar inheritsLoose = __webpack_require__("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js");\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__("./node_modules/react-dom/index.js");\n// EXTERNAL MODULE: ./node_modules/react-popper/lib/esm/Popper.js\nvar Popper = __webpack_require__("./node_modules/react-popper/lib/esm/Popper.js");\n// EXTERNAL MODULE: ./node_modules/react-popper/lib/esm/Manager.js\nvar Manager = __webpack_require__("./node_modules/react-popper/lib/esm/Manager.js");\n// EXTERNAL MODULE: ./node_modules/react-popper/lib/esm/Reference.js\nvar Reference = __webpack_require__("./node_modules/react-popper/lib/esm/Reference.js");\n;// CONCATENATED MODULE: ./node_modules/react-popper-tooltip/dist/esm/react-popper-tooltip.js\n\n\n\n\n\n\n\nvar TooltipContext = /*#__PURE__*/react.createContext({}); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar callAll = function callAll() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return fns.forEach(function (fn) {\n      return fn && fn.apply(void 0, args);\n    });\n  };\n};\nvar noop = function noop() {// do nothing\n};\nvar canUseDOM = function canUseDOM() {\n  return !!(typeof window !== \'undefined\' && window.document && window.document.createElement);\n};\nvar setRef = function setRef(ref, node) {\n  if (typeof ref === \'function\') {\n    return ref(node);\n  } else if (ref != null) {\n    ref.current = node;\n  }\n};\n\nvar Tooltip = /*#__PURE__*/function (_Component) {\n  (0,inheritsLoose/* default */.Z)(Tooltip, _Component);\n\n  function Tooltip() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.observer = void 0;\n    _this.tooltipRef = void 0;\n\n    _this.handleOutsideClick = function (event) {\n      if (_this.tooltipRef && !_this.tooltipRef.contains(event.target)) {\n        var parentOutsideClickHandler = _this.context.parentOutsideClickHandler;\n        var _this$props = _this.props,\n            hideTooltip = _this$props.hideTooltip,\n            clearScheduled = _this$props.clearScheduled;\n        clearScheduled();\n        hideTooltip();\n\n        if (parentOutsideClickHandler) {\n          parentOutsideClickHandler(event);\n        }\n      }\n    };\n\n    _this.handleOutsideRightClick = function (event) {\n      if (_this.tooltipRef && !_this.tooltipRef.contains(event.target)) {\n        var parentOutsideRightClickHandler = _this.context.parentOutsideRightClickHandler;\n        var _this$props2 = _this.props,\n            hideTooltip = _this$props2.hideTooltip,\n            clearScheduled = _this$props2.clearScheduled;\n        clearScheduled();\n        hideTooltip();\n\n        if (parentOutsideRightClickHandler) {\n          parentOutsideRightClickHandler(event);\n        }\n      }\n    };\n\n    _this.addOutsideClickHandler = function () {\n      document.body.addEventListener(\'touchend\', _this.handleOutsideClick);\n      document.body.addEventListener(\'click\', _this.handleOutsideClick);\n    };\n\n    _this.removeOutsideClickHandler = function () {\n      document.body.removeEventListener(\'touchend\', _this.handleOutsideClick);\n      document.body.removeEventListener(\'click\', _this.handleOutsideClick);\n    };\n\n    _this.addOutsideRightClickHandler = function () {\n      return document.body.addEventListener(\'contextmenu\', _this.handleOutsideRightClick);\n    };\n\n    _this.removeOutsideRightClickHandler = function () {\n      return document.body.removeEventListener(\'contextmenu\', _this.handleOutsideRightClick);\n    };\n\n    _this.getTooltipRef = function (node) {\n      _this.tooltipRef = node;\n      setRef(_this.props.innerRef, node);\n    };\n\n    _this.getArrowProps = function (props) {\n      if (props === void 0) {\n        props = {};\n      }\n\n      return (0,esm_extends/* default */.Z)({}, props, {\n        style: (0,esm_extends/* default */.Z)({}, props.style, _this.props.arrowProps.style)\n      });\n    };\n\n    _this.getTooltipProps = function (props) {\n      if (props === void 0) {\n        props = {};\n      }\n\n      return (0,esm_extends/* default */.Z)({}, props, _this.isTriggeredBy(\'hover\') && {\n        onMouseEnter: callAll(_this.props.clearScheduled, props.onMouseEnter),\n        onMouseLeave: callAll(_this.props.hideTooltip, props.onMouseLeave)\n      }, {\n        style: (0,esm_extends/* default */.Z)({}, props.style, _this.props.style)\n      });\n    };\n\n    _this.contextValue = {\n      isParentNoneTriggered: _this.props.trigger === \'none\',\n      addParentOutsideClickHandler: _this.addOutsideClickHandler,\n      addParentOutsideRightClickHandler: _this.addOutsideRightClickHandler,\n      parentOutsideClickHandler: _this.handleOutsideClick,\n      parentOutsideRightClickHandler: _this.handleOutsideRightClick,\n      removeParentOutsideClickHandler: _this.removeOutsideClickHandler,\n      removeParentOutsideRightClickHandler: _this.removeOutsideRightClickHandler\n    };\n    return _this;\n  }\n\n  var _proto = Tooltip.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    var observer = this.observer = new MutationObserver(function () {\n      _this2.props.update();\n    });\n    observer.observe(this.tooltipRef, this.props.mutationObserverOptions);\n\n    if (this.isTriggeredBy(\'hover\') || this.isTriggeredBy(\'click\') || this.isTriggeredBy(\'right-click\')) {\n      var _this$context = this.context,\n          removeParentOutsideClickHandler = _this$context.removeParentOutsideClickHandler,\n          removeParentOutsideRightClickHandler = _this$context.removeParentOutsideRightClickHandler;\n      this.addOutsideClickHandler();\n      this.addOutsideRightClickHandler();\n\n      if (removeParentOutsideClickHandler) {\n        removeParentOutsideClickHandler();\n      }\n\n      if (removeParentOutsideRightClickHandler) {\n        removeParentOutsideRightClickHandler();\n      }\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    if (this.props.closeOnReferenceHidden && this.props.isReferenceHidden) {\n      this.props.hideTooltip();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n\n    if (this.isTriggeredBy(\'hover\') || this.isTriggeredBy(\'click\') || this.isTriggeredBy(\'right-click\')) {\n      var _this$context2 = this.context,\n          isParentNoneTriggered = _this$context2.isParentNoneTriggered,\n          addParentOutsideClickHandler = _this$context2.addParentOutsideClickHandler,\n          addParentOutsideRightClickHandler = _this$context2.addParentOutsideRightClickHandler;\n      this.removeOutsideClickHandler();\n      this.removeOutsideRightClickHandler();\n      this.handleOutsideClick = undefined;\n      this.handleOutsideRightClick = undefined;\n\n      if (!isParentNoneTriggered && addParentOutsideClickHandler) {\n        addParentOutsideClickHandler();\n      }\n\n      if (!isParentNoneTriggered && addParentOutsideRightClickHandler) {\n        addParentOutsideRightClickHandler();\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props3 = this.props,\n        arrowProps = _this$props3.arrowProps,\n        placement = _this$props3.placement,\n        tooltip = _this$props3.tooltip;\n    return /*#__PURE__*/react.createElement(TooltipContext.Provider, {\n      value: this.contextValue\n    }, tooltip({\n      arrowRef: arrowProps.ref,\n      getArrowProps: this.getArrowProps,\n      getTooltipProps: this.getTooltipProps,\n      placement: placement,\n      tooltipRef: this.getTooltipRef\n    }));\n  };\n\n  _proto.isTriggeredBy = function isTriggeredBy(event) {\n    var trigger = this.props.trigger;\n    return trigger === event || Array.isArray(trigger) && trigger.includes(event);\n  };\n\n  return Tooltip;\n}(react.Component);\n\nTooltip.contextType = TooltipContext;\n\nvar DEFAULT_MUTATION_OBSERVER_CONFIG = {\n  childList: true,\n  subtree: true\n};\n\nvar TooltipTrigger = /*#__PURE__*/function (_Component) {\n  (0,inheritsLoose/* default */.Z)(TooltipTrigger, _Component);\n\n  function TooltipTrigger() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      tooltipShown: _this.props.defaultTooltipShown\n    };\n    _this.hideTimeout = void 0;\n    _this.showTimeout = void 0;\n    _this.popperOffset = void 0;\n\n    _this.setTooltipState = function (state) {\n      var cb = function cb() {\n        return _this.props.onVisibilityChange(state.tooltipShown);\n      };\n\n      _this.isControlled() ? cb() : _this.setState(state, cb);\n    };\n\n    _this.clearScheduled = function () {\n      clearTimeout(_this.hideTimeout);\n      clearTimeout(_this.showTimeout);\n    };\n\n    _this.showTooltip = function (_ref) {\n      var pageX = _ref.pageX,\n          pageY = _ref.pageY;\n\n      _this.clearScheduled();\n\n      var state = {\n        tooltipShown: true\n      };\n\n      if (_this.props.followCursor) {\n        state = (0,esm_extends/* default */.Z)({}, state, {\n          pageX: pageX,\n          pageY: pageY\n        });\n      }\n\n      _this.showTimeout = window.setTimeout(function () {\n        return _this.setTooltipState(state);\n      }, _this.props.delayShow);\n    };\n\n    _this.hideTooltip = function () {\n      _this.clearScheduled();\n\n      _this.hideTimeout = window.setTimeout(function () {\n        return _this.setTooltipState({\n          tooltipShown: false\n        });\n      }, _this.props.delayHide);\n    };\n\n    _this.toggleTooltip = function (_ref2) {\n      var pageX = _ref2.pageX,\n          pageY = _ref2.pageY;\n      var action = _this.getState() ? \'hideTooltip\' : \'showTooltip\';\n\n      _this[action]({\n        pageX: pageX,\n        pageY: pageY\n      });\n    };\n\n    _this.clickToggle = function (event) {\n      event.preventDefault();\n      var pageX = event.pageX,\n          pageY = event.pageY;\n      var action = _this.props.followCursor ? \'showTooltip\' : \'toggleTooltip\';\n\n      _this[action]({\n        pageX: pageX,\n        pageY: pageY\n      });\n    };\n\n    _this.contextMenuToggle = function (event) {\n      event.preventDefault();\n      var pageX = event.pageX,\n          pageY = event.pageY;\n      var action = _this.props.followCursor ? \'showTooltip\' : \'toggleTooltip\';\n\n      _this[action]({\n        pageX: pageX,\n        pageY: pageY\n      });\n    };\n\n    _this.getTriggerProps = function (props) {\n      if (props === void 0) {\n        props = {};\n      }\n\n      return (0,esm_extends/* default */.Z)({}, props, _this.isTriggeredBy(\'click\') && {\n        onClick: callAll(_this.clickToggle, props.onClick),\n        onTouchEnd: callAll(_this.clickToggle, props.onTouchEnd)\n      }, _this.isTriggeredBy(\'right-click\') && {\n        onContextMenu: callAll(_this.contextMenuToggle, props.onContextMenu)\n      }, _this.isTriggeredBy(\'hover\') && (0,esm_extends/* default */.Z)({\n        onMouseEnter: callAll(_this.showTooltip, props.onMouseEnter),\n        onMouseLeave: callAll(_this.hideTooltip, props.onMouseLeave)\n      }, _this.props.followCursor && {\n        onMouseMove: callAll(_this.showTooltip, props.onMouseMove)\n      }), _this.isTriggeredBy(\'focus\') && {\n        onFocus: callAll(_this.showTooltip, props.onFocus),\n        onBlur: callAll(_this.hideTooltip, props.onBlur)\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = TooltipTrigger.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.clearScheduled();\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        tooltip = _this$props.tooltip,\n        placement = _this$props.placement,\n        trigger = _this$props.trigger,\n        getTriggerRef = _this$props.getTriggerRef,\n        modifiers = _this$props.modifiers,\n        closeOnReferenceHidden = _this$props.closeOnReferenceHidden,\n        usePortal = _this$props.usePortal,\n        portalContainer = _this$props.portalContainer,\n        followCursor = _this$props.followCursor,\n        getTooltipRef = _this$props.getTooltipRef,\n        mutationObserverOptions = _this$props.mutationObserverOptions,\n        restProps = (0,objectWithoutPropertiesLoose/* default */.Z)(_this$props, ["children", "tooltip", "placement", "trigger", "getTriggerRef", "modifiers", "closeOnReferenceHidden", "usePortal", "portalContainer", "followCursor", "getTooltipRef", "mutationObserverOptions"]);\n\n    var popper = /*#__PURE__*/react.createElement(Popper/* Popper */.r, (0,esm_extends/* default */.Z)({\n      innerRef: getTooltipRef,\n      placement: placement,\n      modifiers: [{\n        name: \'followCursor\',\n        enabled: followCursor,\n        phase: \'main\',\n        fn: function fn(data) {\n          _this2.popperOffset = data.state.rects.popper;\n        }\n      }].concat(modifiers)\n    }, restProps), function (_ref3) {\n      var ref = _ref3.ref,\n          style = _ref3.style,\n          placement = _ref3.placement,\n          arrowProps = _ref3.arrowProps,\n          isReferenceHidden = _ref3.isReferenceHidden,\n          update = _ref3.update;\n\n      if (followCursor && _this2.popperOffset) {\n        var _this2$state = _this2.state,\n            pageX = _this2$state.pageX,\n            pageY = _this2$state.pageY;\n        var _this2$popperOffset = _this2.popperOffset,\n            width = _this2$popperOffset.width,\n            height = _this2$popperOffset.height;\n        var x = pageX + width > window.pageXOffset + document.body.offsetWidth ? pageX - width : pageX;\n        var y = pageY + height > window.pageYOffset + document.body.offsetHeight ? pageY - height : pageY;\n        style.transform = "translate3d(" + x + "px, " + y + "px, 0";\n      }\n\n      return /*#__PURE__*/react.createElement(Tooltip, (0,esm_extends/* default */.Z)({\n        arrowProps: arrowProps,\n        closeOnReferenceHidden: closeOnReferenceHidden,\n        isReferenceHidden: isReferenceHidden,\n        placement: placement,\n        update: update,\n        style: style,\n        tooltip: tooltip,\n        trigger: trigger,\n        mutationObserverOptions: mutationObserverOptions\n      }, {\n        clearScheduled: _this2.clearScheduled,\n        hideTooltip: _this2.hideTooltip,\n        innerRef: ref\n      }));\n    });\n    return /*#__PURE__*/react.createElement(Manager/* Manager */.dK, null, /*#__PURE__*/react.createElement(Reference/* Reference */.s, {\n      innerRef: getTriggerRef\n    }, function (_ref4) {\n      var ref = _ref4.ref;\n      return children({\n        getTriggerProps: _this2.getTriggerProps,\n        triggerRef: ref\n      });\n    }), this.getState() && (usePortal ? /*#__PURE__*/(0,react_dom.createPortal)(popper, portalContainer) : popper));\n  };\n\n  _proto.isControlled = function isControlled() {\n    return this.props.tooltipShown !== undefined;\n  };\n\n  _proto.getState = function getState() {\n    return this.isControlled() ? this.props.tooltipShown : this.state.tooltipShown;\n  };\n\n  _proto.isTriggeredBy = function isTriggeredBy(event) {\n    var trigger = this.props.trigger;\n    return trigger === event || Array.isArray(trigger) && trigger.includes(event);\n  };\n\n  return TooltipTrigger;\n}(react.Component);\n\nTooltipTrigger.defaultProps = {\n  closeOnReferenceHidden: true,\n  defaultTooltipShown: false,\n  delayHide: 0,\n  delayShow: 0,\n  followCursor: false,\n  onVisibilityChange: noop,\n  placement: \'right\',\n  portalContainer: canUseDOM() ? document.body : null,\n  trigger: \'hover\',\n  usePortal: canUseDOM(),\n  mutationObserverOptions: DEFAULT_MUTATION_OBSERVER_CONFIG,\n  modifiers: []\n};\n\n/* harmony default export */ const react_popper_tooltip = (TooltipTrigger);\n//# sourceMappingURL=react-popper-tooltip.js.map\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.split.js\nvar es_string_split = __webpack_require__("./node_modules/core-js/modules/es.string.split.js");\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js");\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.starts-with.js\nvar es_string_starts_with = __webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js");\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__("./node_modules/core-js/modules/es.array.concat.js");\n// EXTERNAL MODULE: ./node_modules/memoizerific/memoizerific.js\nvar memoizerific = __webpack_require__("./node_modules/memoizerific/memoizerific.js");\nvar memoizerific_default = /*#__PURE__*/__webpack_require__.n(memoizerific);\n// EXTERNAL MODULE: ./node_modules/@storybook/theming/dist/esm/utils.js\nvar utils = __webpack_require__("./node_modules/@storybook/theming/dist/esm/utils.js");\n;// CONCATENATED MODULE: ./node_modules/@storybook/components/dist/esm/tooltip/Tooltip.js\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\n\n\n\n\n\n\n\n\n\nvar match = memoizerific_default()(1000)(function (requests, actual, value) {\n  var fallback = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  return actual.split(\'-\')[0] === requests ? value : fallback;\n});\nvar ArrowSpacing = 8;\nvar Arrow = esm.styled.div({\n  position: \'absolute\',\n  borderStyle: \'solid\'\n}, function (_ref) {\n  var placement = _ref.placement;\n  var x = 0;\n  var y = 0;\n\n  switch (true) {\n    case placement.startsWith(\'left\') || placement.startsWith(\'right\'):\n      {\n        y = 8;\n        break;\n      }\n\n    case placement.startsWith(\'top\') || placement.startsWith(\'bottom\'):\n      {\n        x = 8;\n        break;\n      }\n\n    default:\n      {//\n      }\n  }\n\n  var transform = "translate3d(".concat(x, "px, ").concat(y, "px, 0px)");\n  return {\n    transform: transform\n  };\n}, function (_ref2) {\n  var theme = _ref2.theme,\n      color = _ref2.color,\n      placement = _ref2.placement;\n  return {\n    bottom: "".concat(match(\'top\', placement, ArrowSpacing * -1, \'auto\'), "px"),\n    top: "".concat(match(\'bottom\', placement, ArrowSpacing * -1, \'auto\'), "px"),\n    right: "".concat(match(\'left\', placement, ArrowSpacing * -1, \'auto\'), "px"),\n    left: "".concat(match(\'right\', placement, ArrowSpacing * -1, \'auto\'), "px"),\n    borderBottomWidth: "".concat(match(\'top\', placement, \'0\', ArrowSpacing), "px"),\n    borderTopWidth: "".concat(match(\'bottom\', placement, \'0\', ArrowSpacing), "px"),\n    borderRightWidth: "".concat(match(\'left\', placement, \'0\', ArrowSpacing), "px"),\n    borderLeftWidth: "".concat(match(\'right\', placement, \'0\', ArrowSpacing), "px"),\n    borderTopColor: match(\'top\', placement, theme.color[color] || color || theme.base === \'light\' ? (0,utils/* lightenColor */.tG)(theme.background.app) : (0,utils/* darkenColor */.r5)(theme.background.app), \'transparent\'),\n    borderBottomColor: match(\'bottom\', placement, theme.color[color] || color || theme.base === \'light\' ? (0,utils/* lightenColor */.tG)(theme.background.app) : (0,utils/* darkenColor */.r5)(theme.background.app), \'transparent\'),\n    borderLeftColor: match(\'left\', placement, theme.color[color] || color || theme.base === \'light\' ? (0,utils/* lightenColor */.tG)(theme.background.app) : (0,utils/* darkenColor */.r5)(theme.background.app), \'transparent\'),\n    borderRightColor: match(\'right\', placement, theme.color[color] || color || theme.base === \'light\' ? (0,utils/* lightenColor */.tG)(theme.background.app) : (0,utils/* darkenColor */.r5)(theme.background.app), \'transparent\')\n  };\n});\nvar Wrapper = esm.styled.div(function (_ref3) {\n  var hidden = _ref3.hidden;\n  return {\n    display: hidden ? \'none\' : \'inline-block\',\n    zIndex: 2147483647\n  };\n}, function (_ref4) {\n  var theme = _ref4.theme,\n      color = _ref4.color,\n      hasChrome = _ref4.hasChrome;\n  return hasChrome ? {\n    background: theme.color[color] || color || theme.base === \'light\' ? (0,utils/* lightenColor */.tG)(theme.background.app) : (0,utils/* darkenColor */.r5)(theme.background.app),\n    filter: "\\n            drop-shadow(0px 5px 5px rgba(0,0,0,0.05))\\n            drop-shadow(0 1px 3px rgba(0,0,0,0.1))\\n          ",\n    borderRadius: theme.appBorderRadius * 2,\n    fontSize: theme.typography.size.s1\n  } : {};\n});\nvar Tooltip_Tooltip = function Tooltip(_ref5) {\n  var placement = _ref5.placement,\n      hasChrome = _ref5.hasChrome,\n      children = _ref5.children,\n      arrowProps = _ref5.arrowProps,\n      tooltipRef = _ref5.tooltipRef,\n      arrowRef = _ref5.arrowRef,\n      color = _ref5.color,\n      props = _objectWithoutProperties(_ref5, ["placement", "hasChrome", "children", "arrowProps", "tooltipRef", "arrowRef", "color"]);\n\n  return /*#__PURE__*/react.createElement(Wrapper, _extends({\n    hasChrome: hasChrome,\n    placement: placement,\n    ref: tooltipRef\n  }, props, {\n    color: color\n  }), hasChrome && /*#__PURE__*/react.createElement(Arrow, _extends({\n    placement: placement,\n    ref: arrowRef\n  }, arrowProps, {\n    color: color\n  })), children);\n};\nTooltip_Tooltip.displayName = "Tooltip";\nTooltip_Tooltip.defaultProps = {\n  color: undefined,\n  arrowRef: undefined,\n  tooltipRef: undefined,\n  hasChrome: true,\n  placement: \'top\',\n  arrowProps: {}\n};\n;// CONCATENATED MODULE: ./node_modules/@storybook/components/dist/esm/tooltip/WithTooltip.js\n\n\n\n\n\n\n\n\n\n\n\n\nvar _templateObject, _templateObject2;\n\n\n\n\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction WithTooltip_extends() { WithTooltip_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return WithTooltip_extends.apply(this, arguments); }\n\nfunction WithTooltip_objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = WithTooltip_objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction WithTooltip_objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\n\n\n\n\n\nvar WithTooltip_document = (window_default()).document; // A target that doesn\'t speak popper\n\nvar TargetContainer = esm.styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral(["\\n  display: inline-block;\\n  cursor: ", ";\\n"])), function (props) {\n  return props.mode === \'hover\' ? \'default\' : \'pointer\';\n});\nvar TargetSvgContainer = esm.styled.g(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral(["\\n  cursor: ", ";\\n"])), function (props) {\n  return props.mode === \'hover\' ? \'default\' : \'pointer\';\n});\n\n// Pure, does not bind to the body\nvar WithTooltipPure = function WithTooltipPure(_ref) {\n  var svg = _ref.svg,\n      trigger = _ref.trigger,\n      closeOnClick = _ref.closeOnClick,\n      placement = _ref.placement,\n      modifiers = _ref.modifiers,\n      hasChrome = _ref.hasChrome,\n      _tooltip = _ref.tooltip,\n      children = _ref.children,\n      tooltipShown = _ref.tooltipShown,\n      onVisibilityChange = _ref.onVisibilityChange,\n      props = WithTooltip_objectWithoutProperties(_ref, ["svg", "trigger", "closeOnClick", "placement", "modifiers", "hasChrome", "tooltip", "children", "tooltipShown", "onVisibilityChange"]);\n\n  var Container = svg ? TargetSvgContainer : TargetContainer;\n  return /*#__PURE__*/react.createElement(react_popper_tooltip, {\n    placement: placement,\n    trigger: trigger,\n    modifiers: modifiers,\n    tooltipShown: tooltipShown,\n    onVisibilityChange: onVisibilityChange,\n    tooltip: function tooltip(_ref2) {\n      var getTooltipProps = _ref2.getTooltipProps,\n          getArrowProps = _ref2.getArrowProps,\n          tooltipRef = _ref2.tooltipRef,\n          arrowRef = _ref2.arrowRef,\n          tooltipPlacement = _ref2.placement;\n      return /*#__PURE__*/react.createElement(Tooltip_Tooltip, WithTooltip_extends({\n        hasChrome: hasChrome,\n        placement: tooltipPlacement,\n        tooltipRef: tooltipRef,\n        arrowRef: arrowRef,\n        arrowProps: getArrowProps()\n      }, getTooltipProps()), typeof _tooltip === \'function\' ? _tooltip({\n        onHide: function onHide() {\n          return onVisibilityChange(false);\n        }\n      }) : _tooltip);\n    }\n  }, function (_ref3) {\n    var getTriggerProps = _ref3.getTriggerProps,\n        triggerRef = _ref3.triggerRef;\n    return (\n      /*#__PURE__*/\n      // @ts-ignore\n      react.createElement(Container, WithTooltip_extends({\n        ref: triggerRef\n      }, getTriggerProps(), props), children)\n    );\n  });\n};\n\nWithTooltipPure.displayName = "WithTooltipPure";\nWithTooltipPure.defaultProps = {\n  svg: false,\n  trigger: \'hover\',\n  closeOnClick: false,\n  placement: \'top\',\n  modifiers: [{\n    name: \'preventOverflow\',\n    options: {\n      padding: 8\n    }\n  }, {\n    name: \'offset\',\n    options: {\n      offset: [8, 8]\n    }\n  }, {\n    name: \'arrow\',\n    options: {\n      padding: 8\n    }\n  }],\n  hasChrome: true,\n  tooltipShown: false\n};\n\nvar WithToolTipState = function WithToolTipState(_ref4) {\n  var startOpen = _ref4.startOpen,\n      onChange = _ref4.onVisibilityChange,\n      rest = WithTooltip_objectWithoutProperties(_ref4, ["startOpen", "onVisibilityChange"]);\n\n  var _useState = (0,react.useState)(startOpen || false),\n      _useState2 = _slicedToArray(_useState, 2),\n      tooltipShown = _useState2[0],\n      setTooltipShown = _useState2[1];\n\n  var onVisibilityChange = (0,react.useCallback)(function (visibility) {\n    if (onChange && onChange(visibility) === false) return;\n    setTooltipShown(visibility);\n  }, [onChange]);\n  (0,react.useEffect)(function () {\n    var hide = function hide() {\n      return onVisibilityChange(false);\n    };\n\n    WithTooltip_document.addEventListener(\'keydown\', hide, false); // Find all iframes on the screen and bind to clicks inside them (waiting until the iframe is ready)\n\n    var iframes = Array.from(WithTooltip_document.getElementsByTagName(\'iframe\'));\n    var unbinders = [];\n    iframes.forEach(function (iframe) {\n      var bind = function bind() {\n        try {\n          if (iframe.contentWindow.document) {\n            iframe.contentWindow.document.addEventListener(\'click\', hide);\n            unbinders.push(function () {\n              try {\n                iframe.contentWindow.document.removeEventListener(\'click\', hide);\n              } catch (e) {// logger.debug(\'Removing a click listener from iframe failed: \', e);\n              }\n            });\n          }\n        } catch (e) {// logger.debug(\'Adding a click listener to iframe failed: \', e);\n        }\n      };\n\n      bind(); // I don\'t know how to find out if it\'s already loaded so I potentially will bind twice\n\n      iframe.addEventListener(\'load\', bind);\n      unbinders.push(function () {\n        iframe.removeEventListener(\'load\', bind);\n      });\n    });\n    return function () {\n      WithTooltip_document.removeEventListener(\'keydown\', hide);\n      unbinders.forEach(function (unbind) {\n        unbind();\n      });\n    };\n  });\n  return /*#__PURE__*/react.createElement(WithTooltipPure, WithTooltip_extends({}, rest, {\n    tooltipShown: tooltipShown,\n    onVisibilityChange: onVisibilityChange\n  }));\n};\n\nWithToolTipState.displayName = "WithToolTipState";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN0b3J5Ym9vay9jb21wb25lbnRzL2Rpc3QvZXNtL3Rvb2x0aXAvV2l0aFRvb2x0aXAuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcC10aWxiYWtlLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXBvcHBlci10b29sdGlwL2Rpc3QvZXNtL3JlYWN0LXBvcHBlci10b29sdGlwLmpzPzUzMzIiLCJ3ZWJwYWNrOi8vZnAtdGlsYmFrZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9Ac3Rvcnlib29rL2NvbXBvbmVudHMvZGlzdC9lc20vdG9vbHRpcC9Ub29sdGlwLmpzP2M2ODIiLCJ3ZWJwYWNrOi8vZnAtdGlsYmFrZS1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9Ac3Rvcnlib29rL2NvbXBvbmVudHMvZGlzdC9lc20vdG9vbHRpcC9XaXRoVG9vbHRpcC5qcz9hYjgzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlJztcbmltcG9ydCBfZXh0ZW5kcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzJztcbmltcG9ydCBfaW5oZXJpdHNMb29zZSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0c0xvb3NlJztcbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgUG9wcGVyLCBNYW5hZ2VyLCBSZWZlcmVuY2UgfSBmcm9tICdyZWFjdC1wb3BwZXInO1xuXG52YXIgVG9vbHRpcENvbnRleHQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlQ29udGV4dCh7fSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG52YXIgY2FsbEFsbCA9IGZ1bmN0aW9uIGNhbGxBbGwoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBmbnMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgZm5zW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm5zLmZvckVhY2goZnVuY3Rpb24gKGZuKSB7XG4gICAgICByZXR1cm4gZm4gJiYgZm4uYXBwbHkodm9pZCAwLCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcbn07XG52YXIgbm9vcCA9IGZ1bmN0aW9uIG5vb3AoKSB7Ly8gZG8gbm90aGluZ1xufTtcbnZhciBjYW5Vc2VET00gPSBmdW5jdGlvbiBjYW5Vc2VET00oKSB7XG4gIHJldHVybiAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xufTtcbnZhciBzZXRSZWYgPSBmdW5jdGlvbiBzZXRSZWYocmVmLCBub2RlKSB7XG4gIGlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHJlZihub2RlKTtcbiAgfSBlbHNlIGlmIChyZWYgIT0gbnVsbCkge1xuICAgIHJlZi5jdXJyZW50ID0gbm9kZTtcbiAgfVxufTtcblxudmFyIFRvb2x0aXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoVG9vbHRpcCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVG9vbHRpcCgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcbiAgICBfdGhpcy5vYnNlcnZlciA9IHZvaWQgMDtcbiAgICBfdGhpcy50b29sdGlwUmVmID0gdm9pZCAwO1xuXG4gICAgX3RoaXMuaGFuZGxlT3V0c2lkZUNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoX3RoaXMudG9vbHRpcFJlZiAmJiAhX3RoaXMudG9vbHRpcFJlZi5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgICAgIHZhciBwYXJlbnRPdXRzaWRlQ2xpY2tIYW5kbGVyID0gX3RoaXMuY29udGV4dC5wYXJlbnRPdXRzaWRlQ2xpY2tIYW5kbGVyO1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGhpZGVUb29sdGlwID0gX3RoaXMkcHJvcHMuaGlkZVRvb2x0aXAsXG4gICAgICAgICAgICBjbGVhclNjaGVkdWxlZCA9IF90aGlzJHByb3BzLmNsZWFyU2NoZWR1bGVkO1xuICAgICAgICBjbGVhclNjaGVkdWxlZCgpO1xuICAgICAgICBoaWRlVG9vbHRpcCgpO1xuXG4gICAgICAgIGlmIChwYXJlbnRPdXRzaWRlQ2xpY2tIYW5kbGVyKSB7XG4gICAgICAgICAgcGFyZW50T3V0c2lkZUNsaWNrSGFuZGxlcihldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlT3V0c2lkZVJpZ2h0Q2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChfdGhpcy50b29sdGlwUmVmICYmICFfdGhpcy50b29sdGlwUmVmLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgdmFyIHBhcmVudE91dHNpZGVSaWdodENsaWNrSGFuZGxlciA9IF90aGlzLmNvbnRleHQucGFyZW50T3V0c2lkZVJpZ2h0Q2xpY2tIYW5kbGVyO1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgICBoaWRlVG9vbHRpcCA9IF90aGlzJHByb3BzMi5oaWRlVG9vbHRpcCxcbiAgICAgICAgICAgIGNsZWFyU2NoZWR1bGVkID0gX3RoaXMkcHJvcHMyLmNsZWFyU2NoZWR1bGVkO1xuICAgICAgICBjbGVhclNjaGVkdWxlZCgpO1xuICAgICAgICBoaWRlVG9vbHRpcCgpO1xuXG4gICAgICAgIGlmIChwYXJlbnRPdXRzaWRlUmlnaHRDbGlja0hhbmRsZXIpIHtcbiAgICAgICAgICBwYXJlbnRPdXRzaWRlUmlnaHRDbGlja0hhbmRsZXIoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmFkZE91dHNpZGVDbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgX3RoaXMuaGFuZGxlT3V0c2lkZUNsaWNrKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2spO1xuICAgIH07XG5cbiAgICBfdGhpcy5yZW1vdmVPdXRzaWRlQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIF90aGlzLmhhbmRsZU91dHNpZGVDbGljayk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3RoaXMuaGFuZGxlT3V0c2lkZUNsaWNrKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuYWRkT3V0c2lkZVJpZ2h0Q2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBfdGhpcy5oYW5kbGVPdXRzaWRlUmlnaHRDbGljayk7XG4gICAgfTtcblxuICAgIF90aGlzLnJlbW92ZU91dHNpZGVSaWdodENsaWNrSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgX3RoaXMuaGFuZGxlT3V0c2lkZVJpZ2h0Q2xpY2spO1xuICAgIH07XG5cbiAgICBfdGhpcy5nZXRUb29sdGlwUmVmID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIF90aGlzLnRvb2x0aXBSZWYgPSBub2RlO1xuICAgICAgc2V0UmVmKF90aGlzLnByb3BzLmlubmVyUmVmLCBub2RlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuZ2V0QXJyb3dQcm9wcyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICAgICAgcHJvcHMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgICBzdHlsZTogX2V4dGVuZHMoe30sIHByb3BzLnN0eWxlLCBfdGhpcy5wcm9wcy5hcnJvd1Byb3BzLnN0eWxlKVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmdldFRvb2x0aXBQcm9wcyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICAgICAgcHJvcHMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwcm9wcywgX3RoaXMuaXNUcmlnZ2VyZWRCeSgnaG92ZXInKSAmJiB7XG4gICAgICAgIG9uTW91c2VFbnRlcjogY2FsbEFsbChfdGhpcy5wcm9wcy5jbGVhclNjaGVkdWxlZCwgcHJvcHMub25Nb3VzZUVudGVyKSxcbiAgICAgICAgb25Nb3VzZUxlYXZlOiBjYWxsQWxsKF90aGlzLnByb3BzLmhpZGVUb29sdGlwLCBwcm9wcy5vbk1vdXNlTGVhdmUpXG4gICAgICB9LCB7XG4gICAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgcHJvcHMuc3R5bGUsIF90aGlzLnByb3BzLnN0eWxlKVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmNvbnRleHRWYWx1ZSA9IHtcbiAgICAgIGlzUGFyZW50Tm9uZVRyaWdnZXJlZDogX3RoaXMucHJvcHMudHJpZ2dlciA9PT0gJ25vbmUnLFxuICAgICAgYWRkUGFyZW50T3V0c2lkZUNsaWNrSGFuZGxlcjogX3RoaXMuYWRkT3V0c2lkZUNsaWNrSGFuZGxlcixcbiAgICAgIGFkZFBhcmVudE91dHNpZGVSaWdodENsaWNrSGFuZGxlcjogX3RoaXMuYWRkT3V0c2lkZVJpZ2h0Q2xpY2tIYW5kbGVyLFxuICAgICAgcGFyZW50T3V0c2lkZUNsaWNrSGFuZGxlcjogX3RoaXMuaGFuZGxlT3V0c2lkZUNsaWNrLFxuICAgICAgcGFyZW50T3V0c2lkZVJpZ2h0Q2xpY2tIYW5kbGVyOiBfdGhpcy5oYW5kbGVPdXRzaWRlUmlnaHRDbGljayxcbiAgICAgIHJlbW92ZVBhcmVudE91dHNpZGVDbGlja0hhbmRsZXI6IF90aGlzLnJlbW92ZU91dHNpZGVDbGlja0hhbmRsZXIsXG4gICAgICByZW1vdmVQYXJlbnRPdXRzaWRlUmlnaHRDbGlja0hhbmRsZXI6IF90aGlzLnJlbW92ZU91dHNpZGVSaWdodENsaWNrSGFuZGxlclxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFRvb2x0aXAucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIG9ic2VydmVyID0gdGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzMi5wcm9wcy51cGRhdGUoKTtcbiAgICB9KTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMudG9vbHRpcFJlZiwgdGhpcy5wcm9wcy5tdXRhdGlvbk9ic2VydmVyT3B0aW9ucyk7XG5cbiAgICBpZiAodGhpcy5pc1RyaWdnZXJlZEJ5KCdob3ZlcicpIHx8IHRoaXMuaXNUcmlnZ2VyZWRCeSgnY2xpY2snKSB8fCB0aGlzLmlzVHJpZ2dlcmVkQnkoJ3JpZ2h0LWNsaWNrJykpIHtcbiAgICAgIHZhciBfdGhpcyRjb250ZXh0ID0gdGhpcy5jb250ZXh0LFxuICAgICAgICAgIHJlbW92ZVBhcmVudE91dHNpZGVDbGlja0hhbmRsZXIgPSBfdGhpcyRjb250ZXh0LnJlbW92ZVBhcmVudE91dHNpZGVDbGlja0hhbmRsZXIsXG4gICAgICAgICAgcmVtb3ZlUGFyZW50T3V0c2lkZVJpZ2h0Q2xpY2tIYW5kbGVyID0gX3RoaXMkY29udGV4dC5yZW1vdmVQYXJlbnRPdXRzaWRlUmlnaHRDbGlja0hhbmRsZXI7XG4gICAgICB0aGlzLmFkZE91dHNpZGVDbGlja0hhbmRsZXIoKTtcbiAgICAgIHRoaXMuYWRkT3V0c2lkZVJpZ2h0Q2xpY2tIYW5kbGVyKCk7XG5cbiAgICAgIGlmIChyZW1vdmVQYXJlbnRPdXRzaWRlQ2xpY2tIYW5kbGVyKSB7XG4gICAgICAgIHJlbW92ZVBhcmVudE91dHNpZGVDbGlja0hhbmRsZXIoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlbW92ZVBhcmVudE91dHNpZGVSaWdodENsaWNrSGFuZGxlcikge1xuICAgICAgICByZW1vdmVQYXJlbnRPdXRzaWRlUmlnaHRDbGlja0hhbmRsZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jbG9zZU9uUmVmZXJlbmNlSGlkZGVuICYmIHRoaXMucHJvcHMuaXNSZWZlcmVuY2VIaWRkZW4pIHtcbiAgICAgIHRoaXMucHJvcHMuaGlkZVRvb2x0aXAoKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMub2JzZXJ2ZXIpIHtcbiAgICAgIHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzVHJpZ2dlcmVkQnkoJ2hvdmVyJykgfHwgdGhpcy5pc1RyaWdnZXJlZEJ5KCdjbGljaycpIHx8IHRoaXMuaXNUcmlnZ2VyZWRCeSgncmlnaHQtY2xpY2snKSkge1xuICAgICAgdmFyIF90aGlzJGNvbnRleHQyID0gdGhpcy5jb250ZXh0LFxuICAgICAgICAgIGlzUGFyZW50Tm9uZVRyaWdnZXJlZCA9IF90aGlzJGNvbnRleHQyLmlzUGFyZW50Tm9uZVRyaWdnZXJlZCxcbiAgICAgICAgICBhZGRQYXJlbnRPdXRzaWRlQ2xpY2tIYW5kbGVyID0gX3RoaXMkY29udGV4dDIuYWRkUGFyZW50T3V0c2lkZUNsaWNrSGFuZGxlcixcbiAgICAgICAgICBhZGRQYXJlbnRPdXRzaWRlUmlnaHRDbGlja0hhbmRsZXIgPSBfdGhpcyRjb250ZXh0Mi5hZGRQYXJlbnRPdXRzaWRlUmlnaHRDbGlja0hhbmRsZXI7XG4gICAgICB0aGlzLnJlbW92ZU91dHNpZGVDbGlja0hhbmRsZXIoKTtcbiAgICAgIHRoaXMucmVtb3ZlT3V0c2lkZVJpZ2h0Q2xpY2tIYW5kbGVyKCk7XG4gICAgICB0aGlzLmhhbmRsZU91dHNpZGVDbGljayA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuaGFuZGxlT3V0c2lkZVJpZ2h0Q2xpY2sgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICghaXNQYXJlbnROb25lVHJpZ2dlcmVkICYmIGFkZFBhcmVudE91dHNpZGVDbGlja0hhbmRsZXIpIHtcbiAgICAgICAgYWRkUGFyZW50T3V0c2lkZUNsaWNrSGFuZGxlcigpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzUGFyZW50Tm9uZVRyaWdnZXJlZCAmJiBhZGRQYXJlbnRPdXRzaWRlUmlnaHRDbGlja0hhbmRsZXIpIHtcbiAgICAgICAgYWRkUGFyZW50T3V0c2lkZVJpZ2h0Q2xpY2tIYW5kbGVyKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGFycm93UHJvcHMgPSBfdGhpcyRwcm9wczMuYXJyb3dQcm9wcyxcbiAgICAgICAgcGxhY2VtZW50ID0gX3RoaXMkcHJvcHMzLnBsYWNlbWVudCxcbiAgICAgICAgdG9vbHRpcCA9IF90aGlzJHByb3BzMy50b29sdGlwO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgdmFsdWU6IHRoaXMuY29udGV4dFZhbHVlXG4gICAgfSwgdG9vbHRpcCh7XG4gICAgICBhcnJvd1JlZjogYXJyb3dQcm9wcy5yZWYsXG4gICAgICBnZXRBcnJvd1Byb3BzOiB0aGlzLmdldEFycm93UHJvcHMsXG4gICAgICBnZXRUb29sdGlwUHJvcHM6IHRoaXMuZ2V0VG9vbHRpcFByb3BzLFxuICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICB0b29sdGlwUmVmOiB0aGlzLmdldFRvb2x0aXBSZWZcbiAgICB9KSk7XG4gIH07XG5cbiAgX3Byb3RvLmlzVHJpZ2dlcmVkQnkgPSBmdW5jdGlvbiBpc1RyaWdnZXJlZEJ5KGV2ZW50KSB7XG4gICAgdmFyIHRyaWdnZXIgPSB0aGlzLnByb3BzLnRyaWdnZXI7XG4gICAgcmV0dXJuIHRyaWdnZXIgPT09IGV2ZW50IHx8IEFycmF5LmlzQXJyYXkodHJpZ2dlcikgJiYgdHJpZ2dlci5pbmNsdWRlcyhldmVudCk7XG4gIH07XG5cbiAgcmV0dXJuIFRvb2x0aXA7XG59KENvbXBvbmVudCk7XG5cblRvb2x0aXAuY29udGV4dFR5cGUgPSBUb29sdGlwQ29udGV4dDtcblxudmFyIERFRkFVTFRfTVVUQVRJT05fT0JTRVJWRVJfQ09ORklHID0ge1xuICBjaGlsZExpc3Q6IHRydWUsXG4gIHN1YnRyZWU6IHRydWVcbn07XG5cbnZhciBUb29sdGlwVHJpZ2dlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShUb29sdGlwVHJpZ2dlciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVG9vbHRpcFRyaWdnZXIoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB0b29sdGlwU2hvd246IF90aGlzLnByb3BzLmRlZmF1bHRUb29sdGlwU2hvd25cbiAgICB9O1xuICAgIF90aGlzLmhpZGVUaW1lb3V0ID0gdm9pZCAwO1xuICAgIF90aGlzLnNob3dUaW1lb3V0ID0gdm9pZCAwO1xuICAgIF90aGlzLnBvcHBlck9mZnNldCA9IHZvaWQgMDtcblxuICAgIF90aGlzLnNldFRvb2x0aXBTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgdmFyIGNiID0gZnVuY3Rpb24gY2IoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5vblZpc2liaWxpdHlDaGFuZ2Uoc3RhdGUudG9vbHRpcFNob3duKTtcbiAgICAgIH07XG5cbiAgICAgIF90aGlzLmlzQ29udHJvbGxlZCgpID8gY2IoKSA6IF90aGlzLnNldFN0YXRlKHN0YXRlLCBjYik7XG4gICAgfTtcblxuICAgIF90aGlzLmNsZWFyU2NoZWR1bGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmhpZGVUaW1lb3V0KTtcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5zaG93VGltZW91dCk7XG4gICAgfTtcblxuICAgIF90aGlzLnNob3dUb29sdGlwID0gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgIHZhciBwYWdlWCA9IF9yZWYucGFnZVgsXG4gICAgICAgICAgcGFnZVkgPSBfcmVmLnBhZ2VZO1xuXG4gICAgICBfdGhpcy5jbGVhclNjaGVkdWxlZCgpO1xuXG4gICAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgIHRvb2x0aXBTaG93bjogdHJ1ZVxuICAgICAgfTtcblxuICAgICAgaWYgKF90aGlzLnByb3BzLmZvbGxvd0N1cnNvcikge1xuICAgICAgICBzdGF0ZSA9IF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgICAgICAgIHBhZ2VYOiBwYWdlWCxcbiAgICAgICAgICBwYWdlWTogcGFnZVlcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNob3dUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc2V0VG9vbHRpcFN0YXRlKHN0YXRlKTtcbiAgICAgIH0sIF90aGlzLnByb3BzLmRlbGF5U2hvdyk7XG4gICAgfTtcblxuICAgIF90aGlzLmhpZGVUb29sdGlwID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2xlYXJTY2hlZHVsZWQoKTtcblxuICAgICAgX3RoaXMuaGlkZVRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5zZXRUb29sdGlwU3RhdGUoe1xuICAgICAgICAgIHRvb2x0aXBTaG93bjogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9LCBfdGhpcy5wcm9wcy5kZWxheUhpZGUpO1xuICAgIH07XG5cbiAgICBfdGhpcy50b2dnbGVUb29sdGlwID0gZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICB2YXIgcGFnZVggPSBfcmVmMi5wYWdlWCxcbiAgICAgICAgICBwYWdlWSA9IF9yZWYyLnBhZ2VZO1xuICAgICAgdmFyIGFjdGlvbiA9IF90aGlzLmdldFN0YXRlKCkgPyAnaGlkZVRvb2x0aXAnIDogJ3Nob3dUb29sdGlwJztcblxuICAgICAgX3RoaXNbYWN0aW9uXSh7XG4gICAgICAgIHBhZ2VYOiBwYWdlWCxcbiAgICAgICAgcGFnZVk6IHBhZ2VZXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuY2xpY2tUb2dnbGUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgcGFnZVggPSBldmVudC5wYWdlWCxcbiAgICAgICAgICBwYWdlWSA9IGV2ZW50LnBhZ2VZO1xuICAgICAgdmFyIGFjdGlvbiA9IF90aGlzLnByb3BzLmZvbGxvd0N1cnNvciA/ICdzaG93VG9vbHRpcCcgOiAndG9nZ2xlVG9vbHRpcCc7XG5cbiAgICAgIF90aGlzW2FjdGlvbl0oe1xuICAgICAgICBwYWdlWDogcGFnZVgsXG4gICAgICAgIHBhZ2VZOiBwYWdlWVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmNvbnRleHRNZW51VG9nZ2xlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIHBhZ2VYID0gZXZlbnQucGFnZVgsXG4gICAgICAgICAgcGFnZVkgPSBldmVudC5wYWdlWTtcbiAgICAgIHZhciBhY3Rpb24gPSBfdGhpcy5wcm9wcy5mb2xsb3dDdXJzb3IgPyAnc2hvd1Rvb2x0aXAnIDogJ3RvZ2dsZVRvb2x0aXAnO1xuXG4gICAgICBfdGhpc1thY3Rpb25dKHtcbiAgICAgICAgcGFnZVg6IHBhZ2VYLFxuICAgICAgICBwYWdlWTogcGFnZVlcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5nZXRUcmlnZ2VyUHJvcHMgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHByb3BzID0ge307XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJvcHMsIF90aGlzLmlzVHJpZ2dlcmVkQnkoJ2NsaWNrJykgJiYge1xuICAgICAgICBvbkNsaWNrOiBjYWxsQWxsKF90aGlzLmNsaWNrVG9nZ2xlLCBwcm9wcy5vbkNsaWNrKSxcbiAgICAgICAgb25Ub3VjaEVuZDogY2FsbEFsbChfdGhpcy5jbGlja1RvZ2dsZSwgcHJvcHMub25Ub3VjaEVuZClcbiAgICAgIH0sIF90aGlzLmlzVHJpZ2dlcmVkQnkoJ3JpZ2h0LWNsaWNrJykgJiYge1xuICAgICAgICBvbkNvbnRleHRNZW51OiBjYWxsQWxsKF90aGlzLmNvbnRleHRNZW51VG9nZ2xlLCBwcm9wcy5vbkNvbnRleHRNZW51KVxuICAgICAgfSwgX3RoaXMuaXNUcmlnZ2VyZWRCeSgnaG92ZXInKSAmJiBfZXh0ZW5kcyh7XG4gICAgICAgIG9uTW91c2VFbnRlcjogY2FsbEFsbChfdGhpcy5zaG93VG9vbHRpcCwgcHJvcHMub25Nb3VzZUVudGVyKSxcbiAgICAgICAgb25Nb3VzZUxlYXZlOiBjYWxsQWxsKF90aGlzLmhpZGVUb29sdGlwLCBwcm9wcy5vbk1vdXNlTGVhdmUpXG4gICAgICB9LCBfdGhpcy5wcm9wcy5mb2xsb3dDdXJzb3IgJiYge1xuICAgICAgICBvbk1vdXNlTW92ZTogY2FsbEFsbChfdGhpcy5zaG93VG9vbHRpcCwgcHJvcHMub25Nb3VzZU1vdmUpXG4gICAgICB9KSwgX3RoaXMuaXNUcmlnZ2VyZWRCeSgnZm9jdXMnKSAmJiB7XG4gICAgICAgIG9uRm9jdXM6IGNhbGxBbGwoX3RoaXMuc2hvd1Rvb2x0aXAsIHByb3BzLm9uRm9jdXMpLFxuICAgICAgICBvbkJsdXI6IGNhbGxBbGwoX3RoaXMuaGlkZVRvb2x0aXAsIHByb3BzLm9uQmx1cilcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gVG9vbHRpcFRyaWdnZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuY2xlYXJTY2hlZHVsZWQoKTtcbiAgfTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgdG9vbHRpcCA9IF90aGlzJHByb3BzLnRvb2x0aXAsXG4gICAgICAgIHBsYWNlbWVudCA9IF90aGlzJHByb3BzLnBsYWNlbWVudCxcbiAgICAgICAgdHJpZ2dlciA9IF90aGlzJHByb3BzLnRyaWdnZXIsXG4gICAgICAgIGdldFRyaWdnZXJSZWYgPSBfdGhpcyRwcm9wcy5nZXRUcmlnZ2VyUmVmLFxuICAgICAgICBtb2RpZmllcnMgPSBfdGhpcyRwcm9wcy5tb2RpZmllcnMsXG4gICAgICAgIGNsb3NlT25SZWZlcmVuY2VIaWRkZW4gPSBfdGhpcyRwcm9wcy5jbG9zZU9uUmVmZXJlbmNlSGlkZGVuLFxuICAgICAgICB1c2VQb3J0YWwgPSBfdGhpcyRwcm9wcy51c2VQb3J0YWwsXG4gICAgICAgIHBvcnRhbENvbnRhaW5lciA9IF90aGlzJHByb3BzLnBvcnRhbENvbnRhaW5lcixcbiAgICAgICAgZm9sbG93Q3Vyc29yID0gX3RoaXMkcHJvcHMuZm9sbG93Q3Vyc29yLFxuICAgICAgICBnZXRUb29sdGlwUmVmID0gX3RoaXMkcHJvcHMuZ2V0VG9vbHRpcFJlZixcbiAgICAgICAgbXV0YXRpb25PYnNlcnZlck9wdGlvbnMgPSBfdGhpcyRwcm9wcy5tdXRhdGlvbk9ic2VydmVyT3B0aW9ucyxcbiAgICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3RoaXMkcHJvcHMsIFtcImNoaWxkcmVuXCIsIFwidG9vbHRpcFwiLCBcInBsYWNlbWVudFwiLCBcInRyaWdnZXJcIiwgXCJnZXRUcmlnZ2VyUmVmXCIsIFwibW9kaWZpZXJzXCIsIFwiY2xvc2VPblJlZmVyZW5jZUhpZGRlblwiLCBcInVzZVBvcnRhbFwiLCBcInBvcnRhbENvbnRhaW5lclwiLCBcImZvbGxvd0N1cnNvclwiLCBcImdldFRvb2x0aXBSZWZcIiwgXCJtdXRhdGlvbk9ic2VydmVyT3B0aW9uc1wiXSk7XG5cbiAgICB2YXIgcG9wcGVyID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUG9wcGVyLCBfZXh0ZW5kcyh7XG4gICAgICBpbm5lclJlZjogZ2V0VG9vbHRpcFJlZixcbiAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50LFxuICAgICAgbW9kaWZpZXJzOiBbe1xuICAgICAgICBuYW1lOiAnZm9sbG93Q3Vyc29yJyxcbiAgICAgICAgZW5hYmxlZDogZm9sbG93Q3Vyc29yLFxuICAgICAgICBwaGFzZTogJ21haW4nLFxuICAgICAgICBmbjogZnVuY3Rpb24gZm4oZGF0YSkge1xuICAgICAgICAgIF90aGlzMi5wb3BwZXJPZmZzZXQgPSBkYXRhLnN0YXRlLnJlY3RzLnBvcHBlcjtcbiAgICAgICAgfVxuICAgICAgfV0uY29uY2F0KG1vZGlmaWVycylcbiAgICB9LCByZXN0UHJvcHMpLCBmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgIHZhciByZWYgPSBfcmVmMy5yZWYsXG4gICAgICAgICAgc3R5bGUgPSBfcmVmMy5zdHlsZSxcbiAgICAgICAgICBwbGFjZW1lbnQgPSBfcmVmMy5wbGFjZW1lbnQsXG4gICAgICAgICAgYXJyb3dQcm9wcyA9IF9yZWYzLmFycm93UHJvcHMsXG4gICAgICAgICAgaXNSZWZlcmVuY2VIaWRkZW4gPSBfcmVmMy5pc1JlZmVyZW5jZUhpZGRlbixcbiAgICAgICAgICB1cGRhdGUgPSBfcmVmMy51cGRhdGU7XG5cbiAgICAgIGlmIChmb2xsb3dDdXJzb3IgJiYgX3RoaXMyLnBvcHBlck9mZnNldCkge1xuICAgICAgICB2YXIgX3RoaXMyJHN0YXRlID0gX3RoaXMyLnN0YXRlLFxuICAgICAgICAgICAgcGFnZVggPSBfdGhpczIkc3RhdGUucGFnZVgsXG4gICAgICAgICAgICBwYWdlWSA9IF90aGlzMiRzdGF0ZS5wYWdlWTtcbiAgICAgICAgdmFyIF90aGlzMiRwb3BwZXJPZmZzZXQgPSBfdGhpczIucG9wcGVyT2Zmc2V0LFxuICAgICAgICAgICAgd2lkdGggPSBfdGhpczIkcG9wcGVyT2Zmc2V0LndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0ID0gX3RoaXMyJHBvcHBlck9mZnNldC5oZWlnaHQ7XG4gICAgICAgIHZhciB4ID0gcGFnZVggKyB3aWR0aCA+IHdpbmRvdy5wYWdlWE9mZnNldCArIGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGggPyBwYWdlWCAtIHdpZHRoIDogcGFnZVg7XG4gICAgICAgIHZhciB5ID0gcGFnZVkgKyBoZWlnaHQgPiB3aW5kb3cucGFnZVlPZmZzZXQgKyBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCA/IHBhZ2VZIC0gaGVpZ2h0IDogcGFnZVk7XG4gICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlM2QoXCIgKyB4ICsgXCJweCwgXCIgKyB5ICsgXCJweCwgMFwiO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwgX2V4dGVuZHMoe1xuICAgICAgICBhcnJvd1Byb3BzOiBhcnJvd1Byb3BzLFxuICAgICAgICBjbG9zZU9uUmVmZXJlbmNlSGlkZGVuOiBjbG9zZU9uUmVmZXJlbmNlSGlkZGVuLFxuICAgICAgICBpc1JlZmVyZW5jZUhpZGRlbjogaXNSZWZlcmVuY2VIaWRkZW4sXG4gICAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50LFxuICAgICAgICB1cGRhdGU6IHVwZGF0ZSxcbiAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICB0b29sdGlwOiB0b29sdGlwLFxuICAgICAgICB0cmlnZ2VyOiB0cmlnZ2VyLFxuICAgICAgICBtdXRhdGlvbk9ic2VydmVyT3B0aW9uczogbXV0YXRpb25PYnNlcnZlck9wdGlvbnNcbiAgICAgIH0sIHtcbiAgICAgICAgY2xlYXJTY2hlZHVsZWQ6IF90aGlzMi5jbGVhclNjaGVkdWxlZCxcbiAgICAgICAgaGlkZVRvb2x0aXA6IF90aGlzMi5oaWRlVG9vbHRpcCxcbiAgICAgICAgaW5uZXJSZWY6IHJlZlxuICAgICAgfSkpO1xuICAgIH0pO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNYW5hZ2VyLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWZlcmVuY2UsIHtcbiAgICAgIGlubmVyUmVmOiBnZXRUcmlnZ2VyUmVmXG4gICAgfSwgZnVuY3Rpb24gKF9yZWY0KSB7XG4gICAgICB2YXIgcmVmID0gX3JlZjQucmVmO1xuICAgICAgcmV0dXJuIGNoaWxkcmVuKHtcbiAgICAgICAgZ2V0VHJpZ2dlclByb3BzOiBfdGhpczIuZ2V0VHJpZ2dlclByb3BzLFxuICAgICAgICB0cmlnZ2VyUmVmOiByZWZcbiAgICAgIH0pO1xuICAgIH0pLCB0aGlzLmdldFN0YXRlKCkgJiYgKHVzZVBvcnRhbCA/IC8qI19fUFVSRV9fKi9jcmVhdGVQb3J0YWwocG9wcGVyLCBwb3J0YWxDb250YWluZXIpIDogcG9wcGVyKSk7XG4gIH07XG5cbiAgX3Byb3RvLmlzQ29udHJvbGxlZCA9IGZ1bmN0aW9uIGlzQ29udHJvbGxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy50b29sdGlwU2hvd24gIT09IHVuZGVmaW5lZDtcbiAgfTtcblxuICBfcHJvdG8uZ2V0U3RhdGUgPSBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0NvbnRyb2xsZWQoKSA/IHRoaXMucHJvcHMudG9vbHRpcFNob3duIDogdGhpcy5zdGF0ZS50b29sdGlwU2hvd247XG4gIH07XG5cbiAgX3Byb3RvLmlzVHJpZ2dlcmVkQnkgPSBmdW5jdGlvbiBpc1RyaWdnZXJlZEJ5KGV2ZW50KSB7XG4gICAgdmFyIHRyaWdnZXIgPSB0aGlzLnByb3BzLnRyaWdnZXI7XG4gICAgcmV0dXJuIHRyaWdnZXIgPT09IGV2ZW50IHx8IEFycmF5LmlzQXJyYXkodHJpZ2dlcikgJiYgdHJpZ2dlci5pbmNsdWRlcyhldmVudCk7XG4gIH07XG5cbiAgcmV0dXJuIFRvb2x0aXBUcmlnZ2VyO1xufShDb21wb25lbnQpO1xuXG5Ub29sdGlwVHJpZ2dlci5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsb3NlT25SZWZlcmVuY2VIaWRkZW46IHRydWUsXG4gIGRlZmF1bHRUb29sdGlwU2hvd246IGZhbHNlLFxuICBkZWxheUhpZGU6IDAsXG4gIGRlbGF5U2hvdzogMCxcbiAgZm9sbG93Q3Vyc29yOiBmYWxzZSxcbiAgb25WaXNpYmlsaXR5Q2hhbmdlOiBub29wLFxuICBwbGFjZW1lbnQ6ICdyaWdodCcsXG4gIHBvcnRhbENvbnRhaW5lcjogY2FuVXNlRE9NKCkgPyBkb2N1bWVudC5ib2R5IDogbnVsbCxcbiAgdHJpZ2dlcjogJ2hvdmVyJyxcbiAgdXNlUG9ydGFsOiBjYW5Vc2VET00oKSxcbiAgbXV0YXRpb25PYnNlcnZlck9wdGlvbnM6IERFRkFVTFRfTVVUQVRJT05fT0JTRVJWRVJfQ09ORklHLFxuICBtb2RpZmllcnM6IFtdXG59O1xuXG5leHBvcnQgZGVmYXVsdCBUb29sdGlwVHJpZ2dlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0LXBvcHBlci10b29sdGlwLmpzLm1hcFxuIiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuYXNzaWduLmpzXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1lbW9pemUgZnJvbSAnbWVtb2l6ZXJpZmljJztcbmltcG9ydCB7IHN0eWxlZCwgbGlnaHRlbiwgZGFya2VuIH0gZnJvbSAnQHN0b3J5Ym9vay90aGVtaW5nJztcbnZhciBtYXRjaCA9IG1lbW9pemUoMTAwMCkoZnVuY3Rpb24gKHJlcXVlc3RzLCBhY3R1YWwsIHZhbHVlKSB7XG4gIHZhciBmYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcbiAgcmV0dXJuIGFjdHVhbC5zcGxpdCgnLScpWzBdID09PSByZXF1ZXN0cyA/IHZhbHVlIDogZmFsbGJhY2s7XG59KTtcbnZhciBBcnJvd1NwYWNpbmcgPSA4O1xudmFyIEFycm93ID0gc3R5bGVkLmRpdih7XG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICBib3JkZXJTdHlsZTogJ3NvbGlkJ1xufSwgZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIHBsYWNlbWVudCA9IF9yZWYucGxhY2VtZW50O1xuICB2YXIgeCA9IDA7XG4gIHZhciB5ID0gMDtcblxuICBzd2l0Y2ggKHRydWUpIHtcbiAgICBjYXNlIHBsYWNlbWVudC5zdGFydHNXaXRoKCdsZWZ0JykgfHwgcGxhY2VtZW50LnN0YXJ0c1dpdGgoJ3JpZ2h0Jyk6XG4gICAgICB7XG4gICAgICAgIHkgPSA4O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgIGNhc2UgcGxhY2VtZW50LnN0YXJ0c1dpdGgoJ3RvcCcpIHx8IHBsYWNlbWVudC5zdGFydHNXaXRoKCdib3R0b20nKTpcbiAgICAgIHtcbiAgICAgICAgeCA9IDg7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHsvL1xuICAgICAgfVxuICB9XG5cbiAgdmFyIHRyYW5zZm9ybSA9IFwidHJhbnNsYXRlM2QoXCIuY29uY2F0KHgsIFwicHgsIFwiKS5jb25jYXQoeSwgXCJweCwgMHB4KVwiKTtcbiAgcmV0dXJuIHtcbiAgICB0cmFuc2Zvcm06IHRyYW5zZm9ybVxuICB9O1xufSwgZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciB0aGVtZSA9IF9yZWYyLnRoZW1lLFxuICAgICAgY29sb3IgPSBfcmVmMi5jb2xvcixcbiAgICAgIHBsYWNlbWVudCA9IF9yZWYyLnBsYWNlbWVudDtcbiAgcmV0dXJuIHtcbiAgICBib3R0b206IFwiXCIuY29uY2F0KG1hdGNoKCd0b3AnLCBwbGFjZW1lbnQsIEFycm93U3BhY2luZyAqIC0xLCAnYXV0bycpLCBcInB4XCIpLFxuICAgIHRvcDogXCJcIi5jb25jYXQobWF0Y2goJ2JvdHRvbScsIHBsYWNlbWVudCwgQXJyb3dTcGFjaW5nICogLTEsICdhdXRvJyksIFwicHhcIiksXG4gICAgcmlnaHQ6IFwiXCIuY29uY2F0KG1hdGNoKCdsZWZ0JywgcGxhY2VtZW50LCBBcnJvd1NwYWNpbmcgKiAtMSwgJ2F1dG8nKSwgXCJweFwiKSxcbiAgICBsZWZ0OiBcIlwiLmNvbmNhdChtYXRjaCgncmlnaHQnLCBwbGFjZW1lbnQsIEFycm93U3BhY2luZyAqIC0xLCAnYXV0bycpLCBcInB4XCIpLFxuICAgIGJvcmRlckJvdHRvbVdpZHRoOiBcIlwiLmNvbmNhdChtYXRjaCgndG9wJywgcGxhY2VtZW50LCAnMCcsIEFycm93U3BhY2luZyksIFwicHhcIiksXG4gICAgYm9yZGVyVG9wV2lkdGg6IFwiXCIuY29uY2F0KG1hdGNoKCdib3R0b20nLCBwbGFjZW1lbnQsICcwJywgQXJyb3dTcGFjaW5nKSwgXCJweFwiKSxcbiAgICBib3JkZXJSaWdodFdpZHRoOiBcIlwiLmNvbmNhdChtYXRjaCgnbGVmdCcsIHBsYWNlbWVudCwgJzAnLCBBcnJvd1NwYWNpbmcpLCBcInB4XCIpLFxuICAgIGJvcmRlckxlZnRXaWR0aDogXCJcIi5jb25jYXQobWF0Y2goJ3JpZ2h0JywgcGxhY2VtZW50LCAnMCcsIEFycm93U3BhY2luZyksIFwicHhcIiksXG4gICAgYm9yZGVyVG9wQ29sb3I6IG1hdGNoKCd0b3AnLCBwbGFjZW1lbnQsIHRoZW1lLmNvbG9yW2NvbG9yXSB8fCBjb2xvciB8fCB0aGVtZS5iYXNlID09PSAnbGlnaHQnID8gbGlnaHRlbih0aGVtZS5iYWNrZ3JvdW5kLmFwcCkgOiBkYXJrZW4odGhlbWUuYmFja2dyb3VuZC5hcHApLCAndHJhbnNwYXJlbnQnKSxcbiAgICBib3JkZXJCb3R0b21Db2xvcjogbWF0Y2goJ2JvdHRvbScsIHBsYWNlbWVudCwgdGhlbWUuY29sb3JbY29sb3JdIHx8IGNvbG9yIHx8IHRoZW1lLmJhc2UgPT09ICdsaWdodCcgPyBsaWdodGVuKHRoZW1lLmJhY2tncm91bmQuYXBwKSA6IGRhcmtlbih0aGVtZS5iYWNrZ3JvdW5kLmFwcCksICd0cmFuc3BhcmVudCcpLFxuICAgIGJvcmRlckxlZnRDb2xvcjogbWF0Y2goJ2xlZnQnLCBwbGFjZW1lbnQsIHRoZW1lLmNvbG9yW2NvbG9yXSB8fCBjb2xvciB8fCB0aGVtZS5iYXNlID09PSAnbGlnaHQnID8gbGlnaHRlbih0aGVtZS5iYWNrZ3JvdW5kLmFwcCkgOiBkYXJrZW4odGhlbWUuYmFja2dyb3VuZC5hcHApLCAndHJhbnNwYXJlbnQnKSxcbiAgICBib3JkZXJSaWdodENvbG9yOiBtYXRjaCgncmlnaHQnLCBwbGFjZW1lbnQsIHRoZW1lLmNvbG9yW2NvbG9yXSB8fCBjb2xvciB8fCB0aGVtZS5iYXNlID09PSAnbGlnaHQnID8gbGlnaHRlbih0aGVtZS5iYWNrZ3JvdW5kLmFwcCkgOiBkYXJrZW4odGhlbWUuYmFja2dyb3VuZC5hcHApLCAndHJhbnNwYXJlbnQnKVxuICB9O1xufSk7XG52YXIgV3JhcHBlciA9IHN0eWxlZC5kaXYoZnVuY3Rpb24gKF9yZWYzKSB7XG4gIHZhciBoaWRkZW4gPSBfcmVmMy5oaWRkZW47XG4gIHJldHVybiB7XG4gICAgZGlzcGxheTogaGlkZGVuID8gJ25vbmUnIDogJ2lubGluZS1ibG9jaycsXG4gICAgekluZGV4OiAyMTQ3NDgzNjQ3XG4gIH07XG59LCBmdW5jdGlvbiAoX3JlZjQpIHtcbiAgdmFyIHRoZW1lID0gX3JlZjQudGhlbWUsXG4gICAgICBjb2xvciA9IF9yZWY0LmNvbG9yLFxuICAgICAgaGFzQ2hyb21lID0gX3JlZjQuaGFzQ2hyb21lO1xuICByZXR1cm4gaGFzQ2hyb21lID8ge1xuICAgIGJhY2tncm91bmQ6IHRoZW1lLmNvbG9yW2NvbG9yXSB8fCBjb2xvciB8fCB0aGVtZS5iYXNlID09PSAnbGlnaHQnID8gbGlnaHRlbih0aGVtZS5iYWNrZ3JvdW5kLmFwcCkgOiBkYXJrZW4odGhlbWUuYmFja2dyb3VuZC5hcHApLFxuICAgIGZpbHRlcjogXCJcXG4gICAgICAgICAgICBkcm9wLXNoYWRvdygwcHggNXB4IDVweCByZ2JhKDAsMCwwLDAuMDUpKVxcbiAgICAgICAgICAgIGRyb3Atc2hhZG93KDAgMXB4IDNweCByZ2JhKDAsMCwwLDAuMSkpXFxuICAgICAgICAgIFwiLFxuICAgIGJvcmRlclJhZGl1czogdGhlbWUuYXBwQm9yZGVyUmFkaXVzICogMixcbiAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5zaXplLnMxXG4gIH0gOiB7fTtcbn0pO1xuZXhwb3J0IHZhciBUb29sdGlwID0gZnVuY3Rpb24gVG9vbHRpcChfcmVmNSkge1xuICB2YXIgcGxhY2VtZW50ID0gX3JlZjUucGxhY2VtZW50LFxuICAgICAgaGFzQ2hyb21lID0gX3JlZjUuaGFzQ2hyb21lLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmNS5jaGlsZHJlbixcbiAgICAgIGFycm93UHJvcHMgPSBfcmVmNS5hcnJvd1Byb3BzLFxuICAgICAgdG9vbHRpcFJlZiA9IF9yZWY1LnRvb2x0aXBSZWYsXG4gICAgICBhcnJvd1JlZiA9IF9yZWY1LmFycm93UmVmLFxuICAgICAgY29sb3IgPSBfcmVmNS5jb2xvcixcbiAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWY1LCBbXCJwbGFjZW1lbnRcIiwgXCJoYXNDaHJvbWVcIiwgXCJjaGlsZHJlblwiLCBcImFycm93UHJvcHNcIiwgXCJ0b29sdGlwUmVmXCIsIFwiYXJyb3dSZWZcIiwgXCJjb2xvclwiXSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFdyYXBwZXIsIF9leHRlbmRzKHtcbiAgICBoYXNDaHJvbWU6IGhhc0Nocm9tZSxcbiAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICByZWY6IHRvb2x0aXBSZWZcbiAgfSwgcHJvcHMsIHtcbiAgICBjb2xvcjogY29sb3JcbiAgfSksIGhhc0Nocm9tZSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBcnJvdywgX2V4dGVuZHMoe1xuICAgIHBsYWNlbWVudDogcGxhY2VtZW50LFxuICAgIHJlZjogYXJyb3dSZWZcbiAgfSwgYXJyb3dQcm9wcywge1xuICAgIGNvbG9yOiBjb2xvclxuICB9KSksIGNoaWxkcmVuKTtcbn07XG5Ub29sdGlwLmRpc3BsYXlOYW1lID0gXCJUb29sdGlwXCI7XG5Ub29sdGlwLmRlZmF1bHRQcm9wcyA9IHtcbiAgY29sb3I6IHVuZGVmaW5lZCxcbiAgYXJyb3dSZWY6IHVuZGVmaW5lZCxcbiAgdG9vbHRpcFJlZjogdW5kZWZpbmVkLFxuICBoYXNDaHJvbWU6IHRydWUsXG4gIHBsYWNlbWVudDogJ3RvcCcsXG4gIGFycm93UHJvcHM6IHt9XG59OyIsImltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5mcmVlemUuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5hc3NpZ24uanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qc1wiO1xuXG52YXIgX3RlbXBsYXRlT2JqZWN0LCBfdGVtcGxhdGVPYmplY3QyO1xuXG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanNcIjtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChzdHJpbmdzLCByYXcpIHsgaWYgKCFyYXcpIHsgcmF3ID0gc3RyaW5ncy5zbGljZSgwKTsgfSByZXR1cm4gT2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzdHJpbmdzLCB7IHJhdzogeyB2YWx1ZTogT2JqZWN0LmZyZWV6ZShyYXcpIH0gfSkpOyB9XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gJ0BzdG9yeWJvb2svdGhlbWluZyc7XG5pbXBvcnQgZ2xvYmFsIGZyb20gJ2dsb2JhbCc7XG5pbXBvcnQgVG9vbHRpcFRyaWdnZXIgZnJvbSAncmVhY3QtcG9wcGVyLXRvb2x0aXAnO1xuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJy4vVG9vbHRpcCc7XG52YXIgZG9jdW1lbnQgPSBnbG9iYWwuZG9jdW1lbnQ7IC8vIEEgdGFyZ2V0IHRoYXQgZG9lc24ndCBzcGVhayBwb3BwZXJcblxudmFyIFRhcmdldENvbnRhaW5lciA9IHN0eWxlZC5kaXYoX3RlbXBsYXRlT2JqZWN0IHx8IChfdGVtcGxhdGVPYmplY3QgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgY3Vyc29yOiBcIiwgXCI7XFxuXCJdKSksIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMubW9kZSA9PT0gJ2hvdmVyJyA/ICdkZWZhdWx0JyA6ICdwb2ludGVyJztcbn0pO1xudmFyIFRhcmdldFN2Z0NvbnRhaW5lciA9IHN0eWxlZC5nKF90ZW1wbGF0ZU9iamVjdDIgfHwgKF90ZW1wbGF0ZU9iamVjdDIgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgY3Vyc29yOiBcIiwgXCI7XFxuXCJdKSksIGZ1bmN0aW9uIChwcm9wcykge1xuICByZXR1cm4gcHJvcHMubW9kZSA9PT0gJ2hvdmVyJyA/ICdkZWZhdWx0JyA6ICdwb2ludGVyJztcbn0pO1xuXG4vLyBQdXJlLCBkb2VzIG5vdCBiaW5kIHRvIHRoZSBib2R5XG52YXIgV2l0aFRvb2x0aXBQdXJlID0gZnVuY3Rpb24gV2l0aFRvb2x0aXBQdXJlKF9yZWYpIHtcbiAgdmFyIHN2ZyA9IF9yZWYuc3ZnLFxuICAgICAgdHJpZ2dlciA9IF9yZWYudHJpZ2dlcixcbiAgICAgIGNsb3NlT25DbGljayA9IF9yZWYuY2xvc2VPbkNsaWNrLFxuICAgICAgcGxhY2VtZW50ID0gX3JlZi5wbGFjZW1lbnQsXG4gICAgICBtb2RpZmllcnMgPSBfcmVmLm1vZGlmaWVycyxcbiAgICAgIGhhc0Nocm9tZSA9IF9yZWYuaGFzQ2hyb21lLFxuICAgICAgX3Rvb2x0aXAgPSBfcmVmLnRvb2x0aXAsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICB0b29sdGlwU2hvd24gPSBfcmVmLnRvb2x0aXBTaG93bixcbiAgICAgIG9uVmlzaWJpbGl0eUNoYW5nZSA9IF9yZWYub25WaXNpYmlsaXR5Q2hhbmdlLFxuICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgW1wic3ZnXCIsIFwidHJpZ2dlclwiLCBcImNsb3NlT25DbGlja1wiLCBcInBsYWNlbWVudFwiLCBcIm1vZGlmaWVyc1wiLCBcImhhc0Nocm9tZVwiLCBcInRvb2x0aXBcIiwgXCJjaGlsZHJlblwiLCBcInRvb2x0aXBTaG93blwiLCBcIm9uVmlzaWJpbGl0eUNoYW5nZVwiXSk7XG5cbiAgdmFyIENvbnRhaW5lciA9IHN2ZyA/IFRhcmdldFN2Z0NvbnRhaW5lciA6IFRhcmdldENvbnRhaW5lcjtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRvb2x0aXBUcmlnZ2VyLCB7XG4gICAgcGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgdHJpZ2dlcjogdHJpZ2dlcixcbiAgICBtb2RpZmllcnM6IG1vZGlmaWVycyxcbiAgICB0b29sdGlwU2hvd246IHRvb2x0aXBTaG93bixcbiAgICBvblZpc2liaWxpdHlDaGFuZ2U6IG9uVmlzaWJpbGl0eUNoYW5nZSxcbiAgICB0b29sdGlwOiBmdW5jdGlvbiB0b29sdGlwKF9yZWYyKSB7XG4gICAgICB2YXIgZ2V0VG9vbHRpcFByb3BzID0gX3JlZjIuZ2V0VG9vbHRpcFByb3BzLFxuICAgICAgICAgIGdldEFycm93UHJvcHMgPSBfcmVmMi5nZXRBcnJvd1Byb3BzLFxuICAgICAgICAgIHRvb2x0aXBSZWYgPSBfcmVmMi50b29sdGlwUmVmLFxuICAgICAgICAgIGFycm93UmVmID0gX3JlZjIuYXJyb3dSZWYsXG4gICAgICAgICAgdG9vbHRpcFBsYWNlbWVudCA9IF9yZWYyLnBsYWNlbWVudDtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwLCBfZXh0ZW5kcyh7XG4gICAgICAgIGhhc0Nocm9tZTogaGFzQ2hyb21lLFxuICAgICAgICBwbGFjZW1lbnQ6IHRvb2x0aXBQbGFjZW1lbnQsXG4gICAgICAgIHRvb2x0aXBSZWY6IHRvb2x0aXBSZWYsXG4gICAgICAgIGFycm93UmVmOiBhcnJvd1JlZixcbiAgICAgICAgYXJyb3dQcm9wczogZ2V0QXJyb3dQcm9wcygpXG4gICAgICB9LCBnZXRUb29sdGlwUHJvcHMoKSksIHR5cGVvZiBfdG9vbHRpcCA9PT0gJ2Z1bmN0aW9uJyA/IF90b29sdGlwKHtcbiAgICAgICAgb25IaWRlOiBmdW5jdGlvbiBvbkhpZGUoKSB7XG4gICAgICAgICAgcmV0dXJuIG9uVmlzaWJpbGl0eUNoYW5nZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pIDogX3Rvb2x0aXApO1xuICAgIH1cbiAgfSwgZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgdmFyIGdldFRyaWdnZXJQcm9wcyA9IF9yZWYzLmdldFRyaWdnZXJQcm9wcyxcbiAgICAgICAgdHJpZ2dlclJlZiA9IF9yZWYzLnRyaWdnZXJSZWY7XG4gICAgcmV0dXJuIChcbiAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGFpbmVyLCBfZXh0ZW5kcyh7XG4gICAgICAgIHJlZjogdHJpZ2dlclJlZlxuICAgICAgfSwgZ2V0VHJpZ2dlclByb3BzKCksIHByb3BzKSwgY2hpbGRyZW4pXG4gICAgKTtcbiAgfSk7XG59O1xuXG5XaXRoVG9vbHRpcFB1cmUuZGlzcGxheU5hbWUgPSBcIldpdGhUb29sdGlwUHVyZVwiO1xuV2l0aFRvb2x0aXBQdXJlLmRlZmF1bHRQcm9wcyA9IHtcbiAgc3ZnOiBmYWxzZSxcbiAgdHJpZ2dlcjogJ2hvdmVyJyxcbiAgY2xvc2VPbkNsaWNrOiBmYWxzZSxcbiAgcGxhY2VtZW50OiAndG9wJyxcbiAgbW9kaWZpZXJzOiBbe1xuICAgIG5hbWU6ICdwcmV2ZW50T3ZlcmZsb3cnLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIHBhZGRpbmc6IDhcbiAgICB9XG4gIH0sIHtcbiAgICBuYW1lOiAnb2Zmc2V0JyxcbiAgICBvcHRpb25zOiB7XG4gICAgICBvZmZzZXQ6IFs4LCA4XVxuICAgIH1cbiAgfSwge1xuICAgIG5hbWU6ICdhcnJvdycsXG4gICAgb3B0aW9uczoge1xuICAgICAgcGFkZGluZzogOFxuICAgIH1cbiAgfV0sXG4gIGhhc0Nocm9tZTogdHJ1ZSxcbiAgdG9vbHRpcFNob3duOiBmYWxzZVxufTtcblxudmFyIFdpdGhUb29sVGlwU3RhdGUgPSBmdW5jdGlvbiBXaXRoVG9vbFRpcFN0YXRlKF9yZWY0KSB7XG4gIHZhciBzdGFydE9wZW4gPSBfcmVmNC5zdGFydE9wZW4sXG4gICAgICBvbkNoYW5nZSA9IF9yZWY0Lm9uVmlzaWJpbGl0eUNoYW5nZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZjQsIFtcInN0YXJ0T3BlblwiLCBcIm9uVmlzaWJpbGl0eUNoYW5nZVwiXSk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHN0YXJ0T3BlbiB8fCBmYWxzZSksXG4gICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICAgIHRvb2x0aXBTaG93biA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRUb29sdGlwU2hvd24gPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBvblZpc2liaWxpdHlDaGFuZ2UgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAodmlzaWJpbGl0eSkge1xuICAgIGlmIChvbkNoYW5nZSAmJiBvbkNoYW5nZSh2aXNpYmlsaXR5KSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICBzZXRUb29sdGlwU2hvd24odmlzaWJpbGl0eSk7XG4gIH0sIFtvbkNoYW5nZV0pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciBoaWRlID0gZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgIHJldHVybiBvblZpc2liaWxpdHlDaGFuZ2UoZmFsc2UpO1xuICAgIH07XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGlkZSwgZmFsc2UpOyAvLyBGaW5kIGFsbCBpZnJhbWVzIG9uIHRoZSBzY3JlZW4gYW5kIGJpbmQgdG8gY2xpY2tzIGluc2lkZSB0aGVtICh3YWl0aW5nIHVudGlsIHRoZSBpZnJhbWUgaXMgcmVhZHkpXG5cbiAgICB2YXIgaWZyYW1lcyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lmcmFtZScpKTtcbiAgICB2YXIgdW5iaW5kZXJzID0gW107XG4gICAgaWZyYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChpZnJhbWUpIHtcbiAgICAgIHZhciBiaW5kID0gZnVuY3Rpb24gYmluZCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZSk7XG4gICAgICAgICAgICB1bmJpbmRlcnMucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWRlKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgey8vIGxvZ2dlci5kZWJ1ZygnUmVtb3ZpbmcgYSBjbGljayBsaXN0ZW5lciBmcm9tIGlmcmFtZSBmYWlsZWQ6ICcsIGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsvLyBsb2dnZXIuZGVidWcoJ0FkZGluZyBhIGNsaWNrIGxpc3RlbmVyIHRvIGlmcmFtZSBmYWlsZWQ6ICcsIGUpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBiaW5kKCk7IC8vIEkgZG9uJ3Qga25vdyBob3cgdG8gZmluZCBvdXQgaWYgaXQncyBhbHJlYWR5IGxvYWRlZCBzbyBJIHBvdGVudGlhbGx5IHdpbGwgYmluZCB0d2ljZVxuXG4gICAgICBpZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGJpbmQpO1xuICAgICAgdW5iaW5kZXJzLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICBpZnJhbWUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIGJpbmQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoaWRlKTtcbiAgICAgIHVuYmluZGVycy5mb3JFYWNoKGZ1bmN0aW9uICh1bmJpbmQpIHtcbiAgICAgICAgdW5iaW5kKCk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFdpdGhUb29sdGlwUHVyZSwgX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICB0b29sdGlwU2hvd246IHRvb2x0aXBTaG93bixcbiAgICBvblZpc2liaWxpdHlDaGFuZ2U6IG9uVmlzaWJpbGl0eUNoYW5nZVxuICB9KSk7XG59O1xuXG5XaXRoVG9vbFRpcFN0YXRlLmRpc3BsYXlOYW1lID0gXCJXaXRoVG9vbFRpcFN0YXRlXCI7XG5leHBvcnQgeyBXaXRoVG9vbHRpcFB1cmUsIFdpdGhUb29sVGlwU3RhdGUsIFdpdGhUb29sVGlwU3RhdGUgYXMgV2l0aFRvb2x0aXAgfTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@storybook/components/dist/esm/tooltip/WithTooltip.js\n')}}]);